<!DOCTYPE html>
<html lang="fa" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>تخفیف کافه</title>
    <link rel="stylesheet" href="assets/css/hc-offcanvas-nav.css" />
    <link rel="stylesheet" href="assets/css/main.min.css" />
    <link
      rel="stylesheet"
      href="https://behzadi.github.io/persianDatepicker/css/persianDatepicker-latoja.css"
    />
  </head>

  <body>
    <div class="menuBase">
      <nav class="container-lg">
        <div class="logoMobile">
          <button class="hamburger hamburger--collapse" type="button">
            <span class="hamburger-box">
              <span class="hamburger-inner"></span>
            </span>
          </button>
        </div>
        <div class="logoBox">
          <a href="/">
            <img class="logo" src="assets/img/png/logo.svg" alt="" />
          </a>
        </div>
        <div class="search">
          <ul>
            <li><a href="">صفحه اصلی</a></li>
            <li><a href="">همه کافه ها</a></li>
            <li><a href="">درباره ما</a></li>
            <li><a href="">تماس با ما</a></li>
          </ul>
        </div>
        <div class="addons">
          <a href="" class="login">ورود / ثبت نام</a>
          <a class="mobileLogin" href=""><i class="icon-search"></i></a>
        </div>
        <div class="searchBox">
          <input type="text" class="search" />
          <i class="icon-times"></i>
        </div>
      </nav>
    </div>
    <div class="reserve">
      <div class="container">
        <div class="row">
          <div class="col-md-4">
            <div id="date-picker"></div>
            <div id="shower">
              <h4>انتخاب تاریخ</h4>
            </div>
          </div>
          <div class="col-md-8">
            <div class="reserveBox">
              <div class="people text-center">
                <div class="badge"><i class="icon-people"></i> چند نفرید؟</div>
                <div class="peopleCount">
                  <span class="peopleIncrease">+</span>
                  <span class="peopleCounter">1</span>
                  <span class="peopleDecrease">-</span>
                </div>
              </div>
              <div class="chooseType">
                <div class="item active">
                  منو را آنلاین انتخاب میکنم <span class="check"></span>
                </div>
                <div class="item" data-type="cafe">
                  منو را در کافه انتخاب میکنم <span class="check"></span>
                </div>
              </div>
              <div class="chooseCondition active">
                <div class="menu-category">
                  <div class="item active" data-category="fruits">
                    <img src="assets/img/png/menu-fruits.png" alt="" />
                    <p>میوه ها</p>
                  </div>
                  <div class="item" data-category="coffees">
                    <img src="assets/img/png/menu-shakes.png" alt="" />
                    <p>میوه ها</p>
                  </div>
                  <div class="item" data-category="sweet">
                    <img src="assets/img/png/menu-sweet.png" alt="" />
                    <p>میوه ها</p>
                  </div>
                  <div class="item" data-category="coffees">
                    <img src="assets/img/png/menu-icecream.png" alt="" />
                    <p>میوه ها</p>
                  </div>
                  <div class="item" data-category="coffees">
                    <img src="assets/img/png/menu-iran-foods.png" alt="" />
                    <p>میوه ها</p>
                  </div>
                  <div class="item" data-category="coffees">
                    <img src="assets/img/png/menu-fast-food.png" alt="" />
                    <p>میوه ها</p>
                  </div>
                  <div class="item" data-category="coffees">
                    <img src="assets/img/png/menu-appetizer.png" alt="" />
                    <p>میوه ها</p>
                  </div>
                  <div class="item" data-category="coffees">
                    <img src="assets/img/png/menu-milk-shakes.png" alt="" />
                    <p>میوه ها</p>
                  </div>
                  <div class="item" data-category="coffees">
                    <img src="assets/img/png/menu-milk-shakes.png" alt="" />
                    <p>میوه ها</p>
                  </div>
                  <div class="item" data-category="coffees">
                    <img src="assets/img/png/menu-milk-shakes.png" alt="" />
                    <p>میوه ها</p>
                  </div>
                  <div class="item" data-category="coffees">
                    <img src="assets/img/png/menu-milk-shakes.png" alt="" />
                    <p>میوه ها</p>
                  </div>
                  <div class="item" data-category="coffees">
                    <img src="assets/img/png/menu-milk-shakes.png" alt="" />
                    <p>میوه ها</p>
                  </div>
                </div>
                <div class="menu-items">
                  <div class="group" data-category="fruits">
                    <div class="item" data-id="1" data-price="120000">
                      <h3>میلک شیک نعنایی</h3>
                      <div class="counts">
                        <span class="price">12000</span>
                        <span class="decrease">-</span>
                        <span class="count">0</span>
                        <span class="increase">+</span>
                      </div>
                    </div>
                  </div>
                  <div class="group" data-category="coffees">
                    <div class="item" data-id="2" data-price="140000">
                      <h3>میلک شیک نعنایی</h3>
                      <div class="counts">
                        <span class="price">140000</span>
                        <span class="decrease">-</span>
                        <span class="count">0</span>
                        <span class="increase">+</span>
                      </div>
                    </div>
                  </div>
                  <div class="group active" data-category="sweet">
                    <div class="item" data-id="4" data-price="150000">
                      <h3>میلک شیک نعنایی</h3>
                      <div class="counts">
                        <span class="price">150000</span>
                        <span class="decrease">-</span>
                        <span class="count">0</span>
                        <span class="increase">+</span>
                      </div>
                    </div>
                    <div class="item" data-id="3" data-price="150000">
                      <h3>میلک شیک نعنایی</h3>
                      <div class="counts">
                        <span class="price">150000</span>
                        <span class="decrease">-</span>
                        <span class="count">0</span>
                        <span class="increase">+</span>
                      </div>
                    </div>
                    <div class="item" data-id="5" data-price="180000">
                      <h3>میلک شیک نعنایی</h3>
                      <div class="counts">
                        <span class="price">180000</span>
                        <span class="decrease">-</span>
                        <span class="count">0</span>
                        <span class="increase">+</span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="prices">
                <div class="final">جمع کل بدون تخفیف: <span>0</span> تومان</div>
                <a href="">دریافت کد رزرو</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <footer id="footer">
      <!-- <svg width="1512" height="387" viewBox="0 0 1512 387" fill="none"
																																								xmlns="http://www.w3.org/2000/svg"><path d="M0 0L756 66.6359L1512 0V402H0V0Z" fill="black" /></svg> -->
      <div class="container">
        <div class="footerWrapper">
          <div class="row">
            <div class="col-md-12">
              <div class="row">
                <div class="col-md-4">
                  <div class="links">
                    <h4>پل های ارتباطی</h4>
                  </div>
                  <p class="address">
                    <span> شماره تماس دفتر مرکزی </span> 02188177440
                  </p>

                  <p class="address"><span> ایمیل </span>info@haminyar.ir</p>
                </div>
                <div class="col-md-3">
                  <div class="links">
                    <h4>دسترسی سریع</h4>
                  </div>
                  <div class="menu-footer-menu-container">
                    <ul id="menu-footer-menu" class="menu">
                      <li
                        id="menu-item-3292"
                        class="menu-item menu-item-type-custom menu-item-object-custom menu-item-3292"
                      >
                        <a href="/contactus">ارتباط با ما</a>
                      </li>
                      <li
                        id="menu-item-4117"
                        class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4117"
                      >
                        <a href="/aboutus">درباره حامین یار</a>
                      </li>
                      <li
                        id="menu-item-4117"
                        class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4117"
                      >
                        <a href="/abouthaminmedia">درباره حامین مدیا</a>
                      </li>
                    </ul>
                  </div>
                </div>
                <div class="col-md-3">
                  <div class="links">
                    <h4>شبکه مجازی</h4>
                  </div>
                  <div class="menu-footer-menu-container">
                    <ul id="menu-footer-menu" class="menu">
                      <li
                        id="menu-item-3292"
                        class="menu-item menu-item-type-custom menu-item-object-custom menu-item-3292"
                      >
                        <a href="http://www.aparat.com/hamin_media">آپارات</a>
                      </li>
                      <li
                        id="menu-item-4117"
                        class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4117"
                      >
                        <a href="http://www.instagram.com/hamin_media"
                          >اینستاگرام</a
                        >
                      </li>
                      <li
                        id="menu-item-4117"
                        class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4117"
                      >
                        <a href="http://www.telegram.me/hamin_media">تلگرام</a>
                      </li>
                      <li
                        id="menu-item-4117"
                        class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4117"
                      >
                        <a href="https://eitaa.com/hamin_media">ایتا</a>
                      </li>
                    </ul>
                  </div>
                </div>
                <div class="col-md-2">
                  <img
                    src="https://haminyar.ir/icon/blog/hamianyar.png"
                    alt=""
                  />
                </div>
              </div>
              <div class="row">
                <div class="copyright">
                  تمام حقوق مادی و معنوی این سایت مربوط به موسسه رسانه ای
                  حامین مدیا می‌باشد.
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- <div class="row copyright"><div class="col-md-6 text-right"><p>تمامی حقوق محفوظ می باشد و هرگونه کپی برداری پیگرد قانونی دارد </p></div><div class="col-md-6 text-left"><div class="socialIcons"><a href=""><i class="icon-twitter"></i></a><a href=""><i class="icon-facebook"></i></a><a href=""><i class="icon-instagram"></i></a><a href=""><i class="icon-telegram"></i></a></div></div></div> -->
      </div>
    </footer>
    <p style="text-align: center; width: 100%">
      اگه دوست داری سایتی مثل این وب سایت داشته باشی با شرکت
      <a
        style="
          color: #00998c !important;
          padding: 0 !important;
          margin: 0 !important;
          font-weight: 900;
        "
        href="https://hinet.co"
        >های نت
      </a>
      در ارتباط باش
    </p>
    <script src="assets/js/jquery.js"></script>
    <script src="assets/js/custom.min.js"></script>
    <script src="assets/js/wow.js"></script>
    <script src="assets/js/persianDatepicker.min.js"></script>
    <script src="assets/js/currency.min.js"></script>
    <script>
      new WOW().init();
      $("#date-picker").persianDatepicker({
        alwaysShow: true,
        months: [
          "فروردین",
          "اردیبهشت",
          "خرداد",
          "تیر",
          "مرداد",
          "شهریور",
          "مهر",
          "آبان",
          "آذر",
          "دی",
          "بهمن",
          "اسفند",
        ],
        dowTitle: [
          "شنبه",
          "یکشنبه",
          "دوشنبه",
          "سه شنبه",
          "چهارشنبه",
          "پنج شنبه",
          "جمعه",
        ],
        shortDowTitle: ["ش", "ی", "د", "س", "چ", "پ", "ج"],
        showGregorianDate: !1,
        persianNumbers: !0,
        formatDate: "YYYY/MM/DD",
        selectedBefore: !1,
        selectedDate: null,
        startDate: null,
        endDate: null,
        prevArrow: "<i class='icon-left'></i>",
        nextArrow: "<i class='icon-right'></i>",
        theme: "default",
        selectableYears: null,
        selectableMonths: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12],
        cellWidth: 45, // by px
        cellHeight: 45, // by px
        fontSize: 15, // by px
        isRTL: !1,
        onShow: function () {},
        onHide: function () {},
        onSelect: function (data) {
          alert($("#date-picker").attr("data-gdate"));
        },
        onRender: function () {},
      });
      $(".menu-category .item").click(function () {
        $(".menu-items .group").removeClass("active");
        $(
          `.menu-items .group[data-category="${$(this).data("category")}"]`
        ).addClass("active");
      });

      const items = [];

      $(".increase").click(function () {
        $(this)
          .closest("div")
          .find(".count")
          .text(+$(this).closest("div").find(".count").text() + 1);
        var productId = $(this).parent("div").parent().data("id");
        var price = $(this).parent("div").parent().data("price");
        var finded = items.filter((item) => item.id === productId);
        if (finded.length == 0) {
          items.push({ id: productId, count: 1, price: price });
        } else {
          var index = items.indexOf(finded[0]);
          console.log(index);
          items[index].count += 1;
        }

        console.log(items);
        // cartCalculator(
        //   $(this).closest("div").find(".price").text(),
        //   "increase"
        // );
        cartCalculator();
      });

      $(".decrease").click(function () {
        if (+$(this).closest("div").find(".count").text() !== 0) {
          $(this)
            .closest("div")
            .find(".count")
            .text(+$(this).closest("div").find(".count").text() - 1);
        }
        var productId = $(this).parent("div").parent().data("id");
        var price = $(this).parent("div").parent().data("price");
        var finded = items.filter((item) => item.id === productId);
        if (finded.length > 0) {
          var index = items.indexOf(finded[0]);

          items[index].count -= 1;
          if (items[index].count == 0) {
            items.splice(index, 1);
          }
        }
        cartCalculator();
      });
      $(".price").each(function (element, index) {
        console.log($(this).text(numeral($(this).text()).format()));
      });

      function cartCalculator(price, action) {
        // var converted = numeral(price).value();
        // var finalPrice = numeral($(".final span").text()).value();
        // console.log(converted, finalPrice);
        // if (action == "increase") {
        //   $(".final span").text(numeral(converted + finalPrice).format());
        // } else if (action == "decrease") {
        //   $(".final span").text(numeral(converted - finalPrice).format());
        // }

        $(".final span").text(numeral(items.reduce(getSum, 0)).format());
        function getSum(total, obj) {
          return total + obj.count * obj.price;
        }
      }

      $(".chooseType .item").click(function () {
        $(".chooseType .item").removeClass("active");

        $(this).addClass("active");

        if ($(this).data("type") === "cafe") {
          $(".chooseCondition").removeClass("active");
        } else {
          $(".chooseCondition").addClass("active");
        }
      });
      $(".peopleIncrease").click(function () {
        $(this)
          .parent()
          .find(".peopleCounter")
          .text(+$(this).parent().find(".peopleCounter").text() + 1);
      });
      $(".peopleDecrease").click(function () {
        if (+$(this).parent().find(".peopleCounter").text() !== 1) {
          $(this)
            .parent()
            .find(".peopleCounter")
            .text(+$(this).parent().find(".peopleCounter").text() - 1);
        }
      });
    </script>
  </body>
</html>
